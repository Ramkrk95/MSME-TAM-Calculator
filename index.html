<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSME TAM Calculator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f8fb;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 40px auto;
            background-color: #fff;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
            border-radius: 10px;
        }

        h1 {
            text-align: center;
            background-color: #1e73be;
            color: white;
            padding: 15px;
            border-radius: 10px 10px 0 0;
        }

        p {
            font-size: 18px;
            color: #333;
        }

        .instructions {
            background-color: #fff5c3;
            border-left: 4px solid #ffcc00;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        label {
            font-size: 16px;
            margin-bottom: 5px;
            display: block;
        }

        select, input {
            width: calc(100% - 20px);
            padding: 12px;
            margin: 10px 0;
            font-size: 16px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        button {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            color: white;
            background-color: #1e73be;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        button:hover {
            background-color: #155a99;
        }

        .results {
            background-color: #f4f8fb;
            padding: 20px;
            margin-top: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .results h3 {
            margin: 10px 0;
            font-size: 24px;
        }

        .results p {
            font-size: 20px;
        }

        .results-box {
            display: flex;
            justify-content: space-between;
        }

        .result-box {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 30%;
        }

        .important-note {
            background-color: #fff5c3;
            border-left: 4px solid #ffcc00;
            padding: 15px;
            margin-top: 20px;
            border-radius: 8px;
            font-size: 16px;
        }

        .form-link {
            margin-top: 20px;
            text-align: center;
        }

        .form-link a {
            color: #1e73be;
            text-decoration: none;
            font-weight: bold;
        }

        .form-link a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>MSME TAM Calculator</h1>
        <p>
            Are you developing a product or solution for the MSME (Micro, Small, and Medium Enterprises) sector in India? This calculator is designed to give you a preliminary estimate of the total addressable market (TAM) by offering insights into the number of companies that are already embracing digital tools and are potentially open to investing in the software you are building. This step will help streamline your overall TAM calculation.
        </p>
        <h2>Instructions</h2>
        <div class="instructions">
            <ul>
                <li>Identify the number of MSMEs that are digitally active and open to adopting new technologies.</li>
                <li>Understand the market potential for your product or solution.</li>
                <li>Make informed decisions to effectively target your audience.</li>
            </ul>
        </div>

        <p>Simply fill in the required details below to get a high-level estimate of the potential market size for your innovative product or solution. Let’s get started!</p>

        <!-- Form Fields -->
        <form id="tamForm">
            <label for="industryProductType">Industry/Product Type *</label>
            <select id="industryProductType" name="industryProductType" required>
                <option value="">Select an option</option>
                <option value="Industry-ecommerce">Industry - Ecommerce</option>
                <option value="Industry-SaaS">Industry - SaaS</option>
                <option value="Industry-Food">Industry - Food</option>
                <option value="Industry-Travel">Industry - Travel</option>
                <option value="Industry-Edtech">Industry - Edtech</option>
                <option value="Product-Accounting & Book Keeping">Product - Accounting & Book Keeping</option>
                <option value="Product-Cybersecurity">Product - Cybersecurity</option>
                <option value="Product-HR">Product - HR</option>
                <option value="Product-CRM">Product - CRM</option>
            </select>

            <label for="price">Price of your product/service yearly (in INR) *</label>
            <input type="number" id="price" name="price" placeholder="Enter price in INR" required>

            <button type="submit">Calculate TAM</button>
        </form>

        <!-- Results Section -->
        <div id="results" class="results" style="display:none;">
            <h3>Results</h3>
            <div class="results-box">
                <div class="result-box">
                    <p><strong>Total Addressable Market (TAM)</strong></p>
                    <p id="tamResult"></p>
                </div>
                <div class="result-box">
                    <p><strong>Relevant Companies</strong></p>
                    <p id="companiesResult"></p>
                </div>
                <div class="result-box">
                    <p><strong>Your Pricing (Yearly)</strong></p>
                    <p id="priceResult"></p>
                </div>
            </div>
        </div>

        <!-- Google Forms Link -->
        <div class="form-link" id="formSection" style="display:none;">
            <p>If you want to receive a detailed report with relevant companies, please fill out the form below:</p>
            <p><a href="https://docs.google.com/forms/d/10vJxHBh-_yygfKnt-yhK8aAWpzo3X59Y3lrhyXNNNeo" target="_blank">Click here to submit your name and email.</a></p>
        </div>

        <!-- Disclaimer -->
        <div class="important-note">
            <p><strong>Important:</strong> The results provided here are a preliminary calculation to help you take the first step in estimating your market size. For more detailed TAM calculations, additional filters (such as company size, location, revenue, and technology adoption levels) are recommended.</p>
        </div>
    </div>

    <!-- JavaScript to handle form submission and display the result -->
    <script>
        document.getElementById('tamForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            var industryProductType = document.getElementById('industryProductType').value;
            var price = document.getElementById('price').value;

            try {
                const response = await fetch('https://msme-tam-calculator.vercel.app/api/calculate-tam', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        industryProductType: industryProductType.trim(),
                        price: price
                    }),
                });

                const result = await response.json();

                if (response.ok) {
                    document.getElementById('tamResult').innerText = result.tam.toLocaleString();
                    document.getElementById('companiesResult').innerText = result.relevantCompanies.toLocaleString();
                    document.getElementById('priceResult').innerText = `₹${result.pricing.toLocaleString()}`;
                    document.getElementById('results').style.display = 'block';
                    document.getElementById('formSection').style.display = 'block'; // Show Google Forms link after the calculation
                } else {
                    document.getElementById('tamResult').innerHTML = 'Could not calculate TAM. Please check your input.';
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('tamResult').innerHTML = 'An error occurred while calculating TAM. Please try again.';
            }
        });
    </script>
</body>
</html>
